<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KeyGo - Ultimate Typing Hub</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

<style>
  /* Variables */
  :root {
    --green: #28a745;
    --green-light: #7ed88a;
    --green-dark: #1c471b;
    --green-glow: rgba(40, 167, 69, 0.6);
    --white: #fff;
    --gray-light: #f7f9f9;
    --shadow-green: 0 0 15px 3px var(--green-glow);
  }

  /* Reset & Body */
  body, html {
    margin: 0; padding:0;
    height: 100%;
    background: var(--white);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Loading Screen */
  #loadingScreen {
    position: fixed; top:0; left:0; width:100%; height:100%;
    background: linear-gradient(145deg, var(--green-dark), var(--green));
    color: var(--white);
    font-weight: 900;
    font-size: 2.8rem;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    user-select: none;
    animation: pulseGlow 2s infinite alternate;
  }
  @keyframes pulseGlow {
    0% { text-shadow: 0 0 10px var(--white), 0 0 20px var(--white); }
    100% { text-shadow: 0 0 22px var(--green-light), 0 0 44px var(--green-light);}
  }
  #loadingScreen.slide-out {
    animation: slideLeft 1s forwards;
  }
  @keyframes slideLeft {
    to { transform: translateX(-100vw); }
  }

  /* Navbar */
  nav.navbar {
    background: var(--green);
    box-shadow: var(--shadow-green);
    padding: 0.5rem 1rem;
  }
  nav.navbar .navbar-brand {
    font-weight: 900;
    font-size: 1.8rem;
    color: var(--white);
    display: flex;
    align-items: center;
    gap: 0.5rem;
    user-select: none;
    text-decoration: none;
  }
  nav.navbar .navbar-brand i {
    font-size: 2rem;
    text-shadow: 0 0 10px var(--white);
  }

  /* Dashboard Container */
  #dashboard {
    padding: 2rem 1rem 5rem;
    max-width: 960px;
    margin: auto;
    text-align: center;
    opacity: 1;
    transition: opacity 0.5s ease;
  }
  #dashboard.hidden {
    opacity: 0;
    pointer-events: none;
  }

  h1.dashboard-header {
    color: var(--green-dark);
    font-weight: 800;
    margin-bottom: 1rem;
    letter-spacing: 2px;
  }

  /* Lesson Track Container */
  .lesson-track {
    display: flex;
    justify-content: center;
    flex-wrap: nowrap;
    gap: 40px;
    margin-top: 2.5rem;
    position: relative;
    user-select: none;
  }
  .lesson-track::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 60px;
    right: 60px;
    height: 8px;
    background: var(--green-light);
    transform: translateY(-50%);
    border-radius: 10px;
    filter: drop-shadow(0 0 3px var(--green-glow));
    z-index: 0;
  }

  /* Lesson buttons upgraded */
  .lesson-button {
    background: linear-gradient(145deg, var(--green-light), var(--green-dark));
    color: var(--white);
    width: 110px;
    height: 110px;
    border-radius: 50%;
    font-weight: 700;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: var(--shadow-green);
    user-select: none;
    font-size: 1.4rem;
    position: relative;
    border: 3px solid transparent;
    transition: border-color 0.4s ease, transform 0.3s ease, box-shadow 0.3s ease;
    text-shadow: 0 0 4px var(--white);
    z-index: 1;
  }
  .lesson-button:hover {
    border-color: var(--green-light);
    transform: scale(1.15);
    box-shadow: 0 0 25px 5px var(--green-light);
  }
  .lesson-button:focus {
    outline: none;
    border-color: var(--white);
    box-shadow: 0 0 40px 6px var(--white);
  }
  .lesson-button .lesson-num {
    font-size: 2.6rem;
    font-weight: 900;
    line-height: 1;
  }
  .lesson-button .lesson-title {
    font-size: 1rem;
    font-weight: 600;
    margin-top: 4px;
  }
  /* Progress badge bottom */
  .lesson-button .progress-badge {
    position: absolute;
    bottom: 8px;
    right: 12px;
    background: var(--white);
    color: var(--green-dark);
    font-weight: 700;
    font-size: 0.9rem;
    padding: 3px 7px;
    border-radius: 10px;
    user-select: none;
    box-shadow: 0 0 6px rgba(0,0,0,0.10);
  }

  /* Instruction + Image layout */
  #lessonInstruction {
    max-width: 780px;
    margin: 2rem auto;
    color: var(--green-dark);
    display: flex;
    gap: 2rem;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
  }

  #instruction-text {
    flex: 1 1 320px;
  }

  #instruction-text h2 {
    margin-bottom: 1rem;
    font-weight: 800;
    font-size: 2rem;
  }

  #instruction-text p {
    font-size: 1.1rem;
    line-height: 1.5;
  }

  #finger-image {
    flex: 0 1 320px;
    max-width: 320px;
    filter: drop-shadow(0 0 10px var(--green-glow));
    user-select: none;
  }

  /* Start training button */
  #startTrainingBtn {
    display: block;
    width: 100%;
    background: var(--green);
    color: var(--white);
    font-weight: 700;
    font-size: 1.3rem;
    padding: 1rem;
    margin-top: 1.5rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(40, 167, 69, 0.7);
    transition: background-color 0.3s ease;
  }
  #startTrainingBtn:hover, #startTrainingBtn:focus {
    background: var(--green-dark);
    outline: none;
  }

  /* Typing training styles */
  #lessonTraining {
    max-width: 780px;
    margin: 2rem auto;
    color: var(--green-dark);
    user-select: none;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  #trainingTitle {
    font-weight: 800;
    font-size: 1.75rem;
    margin-bottom: 0.5rem;
  }

  #trainingText {
    font-size: 1.4rem;
    padding: 1rem;
    border: 3px solid var(--green);
    border-radius: 8px;
    background: var(--gray-light);
    min-height: 110px;
    line-height: 1.6;
    letter-spacing: 0.03em;
    text-align: left;
    white-space: pre-wrap;
  }

  #userInput {
    margin-top: 0.5rem;
    padding: 0.85rem;
    font-size: 1.25rem;
    width: 100%;
    border: 3px solid var(--green);
    border-radius: 8px;
    outline-color: var(--green);
    font-family: monospace;
    box-shadow: 0 0 15px var(--green-glow);
  }

  /* Highlight correct/incorrect letters */
  .correct {
    color: var(--green-dark);
    font-weight: 700;
  }
   .incorrect {
    color: #d9534f; /* bootstrap danger red */
    text-decoration: underline;
    font-weight: 700;
  }

  /* Result message */
  #result {
    margin-top: 1rem;
    font-weight: 700;
    font-size: 1.3rem;
    color: var(--green-dark);
    min-height: 2rem;
  }

  /* Additional dashboard content container - Games, Timed Typing */
  #extras {
    max-width: 900px;
    margin: 3rem auto 5rem;
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .extra-card {
    cursor: pointer;
    background: var(--green-light);
    border-radius: 12px;
    box-shadow: var(--shadow-green);
    padding: 1.5rem 2rem;
    flex: 1 1 250px;
    text-align: center;
    color: var(--white);
    font-weight: 700;
    font-size: 1.3rem;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    user-select: none;
    border: 3px solid transparent;
  }
  .extra-card:hover {
    background: var(--green-dark);
    box-shadow: 0 0 30px 7px var(--green-glow);
    border-color: var(--white);
  }
  .extra-card:focus {
    outline: none;
    background: var(--green-dark);
    box-shadow: 0 0 40px 10px var(--green-glow);
    border-color: var(--white);
  }
</style>
</head>
<body>

  <!-- Loading Screen -->
  <div id="loadingScreen">Loading KeyGo...</div>

  <!-- Navbar -->
  <nav class="navbar">
    <a href="#" class="navbar-brand">
      <i class="bi bi-key-fill"></i> KeyGo
    </a>
  </nav>

  <!-- Main Dashboard -->
  <div id="dashboard" class="hidden">
    <h1 class="dashboard-header">Your Lessons</h1>
    <div class="lesson-track">
      <!-- Example Lesson Buttons -->
      <button class="lesson-button" tabindex="0" aria-label="Lesson 1: Basics">
        <span class="lesson-num">1</span>
        <span class="lesson-title">Basics</span>
        <span class="progress-badge">3 done / 12 left</span>
      </button>
      <button class="lesson-button" tabindex="0" aria-label="Lesson 2: Intermediate">
        <span class="lesson-num">2</span>
        <span class="lesson-title">Intermediate</span>
        <span class="progress-badge">7 done / 8 left</span>
      </button>
      <button class="lesson-button" tabindex="0" aria-label="Lesson 3: Advanced">
        <span class="lesson-num">3</span>
        <span class="lesson-title">Advanced</span>
        <span class="progress-badge">0 done / 15 left</span>
      </button>
    </div>

    <!-- Instruction Area -->
    <div id="lessonInstruction" aria-live="polite">
      <div id="instruction-text">
        <h2>Finger Placement</h2>
        <p>Place your fingers on the home row keys as shown.</p>
      </div>
      <div id="finger-image" aria-hidden="true">
        <!-- Custom inline SVG finger placement -->
        <svg width="320" height="180" viewBox="0 0 320 180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Finger placement diagram">
          <rect x="20" y="70" width="45" height="45" rx="8" ry="8" fill="#28a745" opacity="0.9"/>
          <rect x="70" y="70" width="45" height="45" rx="8" ry="8" fill="#7ed88a" opacity="0.7"/>
          <rect x="120" y="70" width="45" height="45" rx="8" ry="8" fill="#1c471b" opacity="0.9"/>
          <rect x="170" y="70" width="45" height="45" rx="8" ry="8" fill="#7ed88a" opacity="0.7"/>
          <rect x="220" y="70" width="45" height="45" rx="8" ry="8" fill="#28a745" opacity="0.9"/>
          <text x="42" y="100" font-size="20" fill="white" font-weight="700" font-family="Segoe UI">A</text>
          <text x="92" y="100" font-size="20" fill="white" font-weight="700" font-family="Segoe UI">S</text>
          <text x="142" y="100" font-size="20" fill="white" font-weight="700" font-family="Segoe UI">D</text>
          <text x="192" y="100" font-size="20" fill="white" font-weight="700" font-family="Segoe UI">F</text>
          <text x="242" y="100" font-size="20" fill="white" font-weight="700" font-family="Segoe UI">G</text>
        </svg>
      </div>
    </div>

    <button id="startTrainingBtn">Start Training</button>
  </div>

  <!-- Additional Sections - Games & Timed Typing -->
  <div id="extras" aria-label="Additional typing activities">
    <div class="extra-card" role="button" tabindex="0" aria-pressed="false" aria-label="Launch Typing Games">
      <i class="bi bi-controller" style="font-size: 2.5rem; display: block; margin-bottom: 8px;"></i>
      Games
    </div>
    <div class="extra-card" role="button" tabindex="0" aria-pressed="false" aria-label="Launch Timed Typing Challenge">
      <i class="bi bi-clock" style="font-size: 2.5rem; display: block; margin-bottom: 8px;"></i>
      Timed Typing
    </div>
  </div>

<script>
window.addEventListener('load', () => {
  setupLessonButtons();

  // Hide loading screen with a nice slide-out animation
  const loadingScreen = document.getElementById('loadingScreen');
  loadingScreen.classList.add('slide-out'); // triggers slideLeft animation

  // After animation ends, remove loading screen and show dashboard
  loadingScreen.addEventListener('animationend', () => {
    loadingScreen.style.display = 'none';
    const dashboard = document.getElementById('dashboard');
    dashboard.classList.remove('hidden');
  });
});
// Data: lessons with 15 exercises each - sample texts for demonstration
const lessons = [
  {
    title: 'Basics',
    exercises: [
      "The quick brown fox jumps over the lazy dog.",
      "Typing is fun and helpful.",
      "Practice makes perfect every day.",
      "Stay positive and keep improving.",
      "Home row keys help fingers find position.",
      "Use all fingers to type faster.",
      "Focus on accuracy first then speed.",
      "Take breaks when your hands feel tired.",
      "Watch the screen, not your keyboard.",
      "Keep your posture straight and relaxed.",
      "Use the space bar with your thumb.",
      "Remember to breathe and stay calm.",
      "Typing skills open many opportunities.",
      "Challenge yourself with new lessons.",
      "Never give up on your typing goals."
    ]
  },
  {
    title: 'Intermediate',
    exercises: [
      "Intermediate typing includes punctuation.",
      "Practice typing sentences with commas.",
      "Use periods to end sentences properly.",
      "Avoid looking down at your fingers.",
      "Learn to touch type for efficiency.",
      "Speed and accuracy go hand in hand.",
      "Typing games help improve skills.",
      "Timed challenges test your consistency.",
      "Try typing with different keyboard layouts.",
      "Build muscle memory with daily practice.",
      "Stay motivated by tracking your progress.",
      "Use keyboard shortcuts to save time.",
      "Explore new words to expand vocabulary.",
      "Keep a rhythm while typing sentences.",
      "Celebrate achievements and milestones."
    ]
  },
  {
    title: 'Advanced',
    exercises: [
      "Advanced typing involves complex texts.",
      "Practice with technical vocabulary.",
      "Use coding exercises to improve skills.",
      "Type emails professionally and fast.",
      "Write reports with correct formatting.",
      "Master shortcuts in your favorite software.",
      "Proofread your typing to reduce errors.",
      "Optimize your workspace for comfort.",
      "Continuous learning improves speed.",
      "Understand keyboard ergonomics.",
      "Participate in typing competitions.",
      "Stay updated with typing technologies.",
      "Use mechanical keyboards for feedback.",
      "Practice dictation and transcription.",
      "Aim for perfection in all tasks."
    ]
  }
];

// State variables to track current lesson and exercise
let currentLessonIndex = null;
let currentExerciseIndex = 0;
let doneCount = 0;
let leftCount = 0;

// DOM Elements for convenience
const dashboard = document.getElementById('dashboard');
const lessonTrack = document.querySelector('.lesson-track');
const instructionText = document.getElementById('instruction-text');
const startTrainingBtn = document.getElementById('startTrainingBtn');
const lessonTraining = document.createElement('div');
lessonTraining.id = 'lessonTraining';
lessonTraining.style.display = 'none'; // hide initially
dashboard.appendChild(lessonTraining);

// Create training elements
lessonTraining.innerHTML = `
  <div id="trainingTitle"></div>
  <div id="trainingText"></div>
  <input type="text" id="userInput" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
  <div id="result"></div>
`;

// Get training subelements
const trainingTitle = document.getElementById('trainingTitle');
const trainingText = document.getElementById('trainingText');
const userInput = document.getElementById('userInput');
const resultDisplay = document.getElementById('result');

// Update progress badges helper
function updateProgressBadges(lessonIndex) {
  const lessonButtons = document.querySelectorAll('.lesson-button');
  for (let i = 0; i < lessonButtons.length; i++) {
    const badge = lessonButtons[i].querySelector('.progress-badge');
    if (i === lessonIndex) {
      badge.textContent = `${doneCount} done / ${leftCount} left`;
    } else {
      // In a real app, you'd save progress, here reset
      badge.textContent = `0 done / 15 left`;
    }
  }
}

// Handler to load a lesson
function loadLesson(index) {
  currentLessonIndex = index;
  currentExerciseIndex = 0;
  doneCount = 0;
  leftCount = lessons[index].exercises.length;

  // Hide main lesson buttons and show instruction + training
  lessonTrack.style.display = 'none';
  startTrainingBtn.style.display = 'block';
  
  instructionText.innerHTML = `
    <h2>${lessons[index].title} Lesson</h2>
    <p>Ready to practice ${lessons[index].title.toLowerCase()}? Press "Start Training" to begin the exercises.</p>
  `;

  lessonTraining.style.display = 'none';
  userInput.value = '';
  userInput.disabled = true;
  resultDisplay.textContent = '';

  updateProgressBadges(index);
}

// Start training handler
function startTraining() {
  if (currentLessonIndex === null) return;

  startTrainingBtn.style.display = 'none';
  lessonTraining.style.display = 'flex';

  loadExercise();
}

// Load current exercise text into training area
function loadExercise() {
  const exerciseText = lessons[currentLessonIndex].exercises[currentExerciseIndex];
  trainingTitle.textContent = `Exercise ${currentExerciseIndex + 1} / 15`;
  
  // show text with no color initially — We'll highlight on input
  trainingText.textContent = exerciseText;
  userInput.value = '';
  userInput.disabled = false;
  userInput.focus();
  resultDisplay.textContent = '';
}

// Check user input on every keystroke
userInput.addEventListener('input', () => {
  const exerciseText = lessons[currentLessonIndex].exercises[currentExerciseIndex];
  const inputVal = userInput.value;

  // Reset trainingText HTML
  const correctChars = [];
  let allCorrect = true;

  // Build colored text
  let highlighted = '';
  for (let i = 0; i < exerciseText.length; i++) {
    let char = exerciseText[i];
    if (i < inputVal.length) {
      if (inputVal[i] === char) {
        highlighted += `<span class="correct">${char}</span>`;
      } else {
        highlighted += `<span class="incorrect">${char}</span>`;
        allCorrect = false;
      }
    } else {
      highlighted += char;
      allCorrect = false;
    }
  }

  trainingText.innerHTML = highlighted;

  if (inputVal.length === exerciseText.length) {
    // full length entered - check correctness

    if (allCorrect) {
      resultDisplay.textContent = 'Great! Exercise Complete!';
      doneCount++;
      leftCount--;
      
      updateProgressBadges(currentLessonIndex);
    
      // Load next exercise after short delay
      setTimeout(() => {
        currentExerciseIndex++;
        if (currentExerciseIndex >= lessons[currentLessonIndex].exercises.length) {
          // Lesson complete
          resultDisplay.textContent = `🎉 You completed all exercises in ${lessons[currentLessonIndex].title} Lesson!`;
          userInput.disabled = true;
          startTrainingBtn.textContent = 'Back to Lessons';
          startTrainingBtn.style.display = 'block';
          startTrainingBtn.focus();
        } else {
          loadExercise();
        }
      }, 1200);
    } else {
      resultDisplay.textContent = 'Check your typing and fix errors.';
    }
  } else {
    resultDisplay.textContent = '';
  }
});

// Setup lesson buttons click events
function setupLessonButtons() {
  const lessonButtons = document.querySelectorAll('.lesson-button');
  lessonButtons.forEach((btn, idx) => {
    btn.addEventListener('click', () => {
      loadLesson(idx);
    });
  });
}

// Start training button click
startTrainingBtn.addEventListener('click', () => {
  if (startTrainingBtn.textContent === 'Back to Lessons') {
    // Reset UI for lessons
    lessonTraining.style.display = 'none';
    lessonTrack.style.display = 'flex';
    startTrainingBtn.textContent = 'Start Training';
    startTrainingBtn.style.display = 'none'; // hide start button at lesson selection
    currentLessonIndex = null;
    currentExerciseIndex = 0;
  } else {
    startTraining();
  }
});


// Extras cards click handlers (stub)
document.querySelectorAll('.extra-card').forEach(card => {
  card.addEventListener('click', () => {
    alert(`Launching ${card.textContent.trim()} (Coming Soon!)`);
  });
});

// Initialize on page load
window.addEventListener('load', () => {
  setupLessonButtons();
});
</script>

</body>
</html>
